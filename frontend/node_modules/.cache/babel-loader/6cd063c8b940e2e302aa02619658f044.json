{"ast":null,"code":"import React from 'react';\nimport store from '../../store';\nimport { setUser } from '../../actions/userActions';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass SSO extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    this.getIdentity();\n  }\n\n  async getIdentity() {\n    var api = \"http://localhost:5002\";\n    const response = await fetch(api + '/useridentity', {\n      credentials: 'include'\n    });\n\n    if (response.status === 200) {\n      const data = await response.json();\n      await store.dispatch(setUser(data.user));\n    } else {\n      this.redirectToLogin();\n    }\n  }\n\n  redirectToLogin() {\n    window.location.replace(process.env.REACT_APP_LOGIN || \"http://localhost:5002/login\");\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n  }\n\n}\n\nexport default SSO;","map":{"version":3,"names":["React","store","setUser","SSO","Component","constructor","props","componentDidMount","getIdentity","api","response","fetch","credentials","status","data","json","dispatch","user","redirectToLogin","window","location","replace","process","env","REACT_APP_LOGIN","render"],"sources":["/Users/bryancaldera/CS MS/CMPE272_Group_Project/cmpe272_final_project/frontend/src/components/sso/sso.js"],"sourcesContent":["import React from 'react';\nimport store from '../../store';\nimport { setUser } from '../../actions/userActions';\n\nclass SSO extends React.Component {\n\n    constructor(props) {\n        super(props);\n    }\n    componentDidMount() {\n        this.getIdentity();\n    }\n    async getIdentity() {\n        var api = \"http://localhost:5002\";\n        const response = await fetch(api + '/useridentity', { credentials: 'include' })\n        if (response.status === 200) {\n            const data = await response.json();\n            await store.dispatch(setUser(data.user));\n        } else {\n            this.redirectToLogin();\n        }\n    }\n    redirectToLogin() {\n        window.location.replace(process.env.REACT_APP_LOGIN || \"http://localhost:5002/login\");\n    }\n\n    render() {\n        return (\n            <></>\n        )\n    }\n}\nexport default SSO;\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,SAASC,OAAT,QAAwB,2BAAxB;;;;AAEA,MAAMC,GAAN,SAAkBH,KAAK,CAACI,SAAxB,CAAkC;EAE9BC,WAAW,CAACC,KAAD,EAAQ;IACf,MAAMA,KAAN;EACH;;EACDC,iBAAiB,GAAG;IAChB,KAAKC,WAAL;EACH;;EACgB,MAAXA,WAAW,GAAG;IAChB,IAAIC,GAAG,GAAG,uBAAV;IACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACF,GAAG,GAAG,eAAP,EAAwB;MAAEG,WAAW,EAAE;IAAf,CAAxB,CAA5B;;IACA,IAAIF,QAAQ,CAACG,MAAT,KAAoB,GAAxB,EAA6B;MACzB,MAAMC,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAT,EAAnB;MACA,MAAMd,KAAK,CAACe,QAAN,CAAed,OAAO,CAACY,IAAI,CAACG,IAAN,CAAtB,CAAN;IACH,CAHD,MAGO;MACH,KAAKC,eAAL;IACH;EACJ;;EACDA,eAAe,GAAG;IACdC,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwBC,OAAO,CAACC,GAAR,CAAYC,eAAZ,IAA+B,6BAAvD;EACH;;EAEDC,MAAM,GAAG;IACL,oBACI,qCADJ;EAGH;;AA1B6B;;AA4BlC,eAAetB,GAAf"},"metadata":{},"sourceType":"module"}