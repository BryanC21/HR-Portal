{"ast":null,"code":"var _jsxFileName = \"/Users/bryancaldera/CS MS/CMPE272_Group_Project/cmpe272_final_project/frontend/src/components/checkout/checkout.js\";\nimport React, { Component } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport { connect } from 'react-redux';\nimport store from \"../../store\";\nimport { delOrder } from \"../../actions/orderActions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Checkout extends Component {\n  handleOrder() {\n    const searchParams = new URLSearchParams(document.location.search);\n    var table_id = searchParams.get('table_id');\n    var user_id = this.props.user ? this.props.user.id : this.props.defaultUserId;\n\n    if (!table_id) {\n      console.log(this.props.restaurant);\n      table_id = this.props.restaurant.pickup.id;\n    }\n\n    var api = process.env.REACT_APP_API || \"http://192.168.56.1:4080\";\n    fetch(api + \"/api/order/make\", {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        restaurant_id: this.props.restaurant.id,\n        table_id: table_id,\n        user_id: user_id,\n        status: \"Waiting\",\n        order_items: this.props.order\n      })\n    }).then(response => response.json()).then(data => {\n      if (data.code === 200) {\n        alert(\"Order Placed\");\n        store.dispatch(delOrder());\n        window.location.href = window.location.href.replace(\"/checkout\", \"\");\n      } else {\n        alert(data.message);\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"aside\", {\n        className: \"col-sm-4 col-md-4 col-lg-4 col-xl-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"items-body container\",\n          style: {\n            padding: \"10%\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"promo-box\",\n            children: [this.props.count, this.props.count > 1 ? \" items\" : \" item\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row payment\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-7 col-xxl-7\",\n              children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-style-2\",\n                children: \"Subtotal\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-style-3 text-end\",\n                children: [\"$\", this.props.total]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row payment\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-7 col-xxl-7\",\n              children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-style-2\",\n                children: \"Tax\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-style-3 text-end\",\n                children: \"$0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row payment\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-7 col-xxl-7\",\n              children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-style-1\",\n                children: \"Total\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-style-1 text-end\",\n                children: [\"$\", this.props.total]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row container\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn custom-btn-fill\",\n              onClick: () => this.handleOrder(),\n              type: \"button\",\n              children: \"Place Order\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this)\n    }, void 0, false);\n  }\n\n}\n\nconst mapStateToProps = store => {\n  return {\n    user: store.userState.user,\n    restaurant: store.restaurantState.restaurant,\n    defaultUserId: store.restaurantState.defaultUserId,\n    order: store.orderState.order,\n    total: store.orderState.total,\n    count: store.orderState.count\n  };\n};\n\nexport default connect(mapStateToProps)(Checkout);","map":{"version":3,"names":["React","Component","Modal","Button","connect","store","delOrder","Checkout","handleOrder","searchParams","URLSearchParams","document","location","search","table_id","get","user_id","props","user","id","defaultUserId","console","log","restaurant","pickup","api","process","env","REACT_APP_API","fetch","method","headers","body","JSON","stringify","restaurant_id","status","order_items","order","then","response","json","data","code","alert","dispatch","window","href","replace","message","render","padding","count","total","mapStateToProps","userState","restaurantState","orderState"],"sources":["/Users/bryancaldera/CS MS/CMPE272_Group_Project/cmpe272_final_project/frontend/src/components/checkout/checkout.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport { connect } from 'react-redux';\nimport store from \"../../store\";\nimport { delOrder } from \"../../actions/orderActions\";\n\nclass Checkout extends Component {\n    handleOrder() {\n        const searchParams = new URLSearchParams(document.location.search);\n        var table_id = searchParams.get('table_id');\n        var user_id = this.props.user ? this.props.user.id : this.props.defaultUserId;\n\n        if (!table_id) {\n            console.log(this.props.restaurant);\n            table_id = this.props.restaurant.pickup.id;\n        }\n        var api = process.env.REACT_APP_API || \"http://192.168.56.1:4080\";\n        fetch(api + \"/api/order/make\",\n            {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({\n                    restaurant_id: this.props.restaurant.id,\n                    table_id: table_id,\n                    user_id: user_id,\n                    status: \"Waiting\",\n                    order_items: this.props.order,\n                }),\n            }\n        )\n            .then((response) => response.json())\n            .then((data) => {\n                if (data.code === 200) {\n                    alert(\"Order Placed\");\n                    store.dispatch(delOrder());\n                    window.location.href=window.location.href.replace(\"/checkout\", \"\"); \n                } else {\n                    alert(data.message);\n                }\n            });\n    }\n\n    render() {\n        return (\n            <>\n                <aside className=\"col-sm-4 col-md-4 col-lg-4 col-xl-4\">\n                    <div className=\"items-body container\" style={{ padding: \"10%\" }}>\n                        <div className=\"promo-box\">\n                            {this.props.count}\n                            {this.props.count > 1\n                                ? \n                                \" items\"\n                                : \n                                \" item\"\n                            }\n                        </div>\n                        <br />\n                        <div className=\"row payment\">\n                            <div className=\"col-7 col-xxl-7\">\n                                <h4 className=\"text-style-2\">Subtotal</h4>\n                            </div>\n                            <div className=\"col\">\n                                <h4 className=\"text-style-3 text-end\">${this.props.total}</h4>\n                            </div>\n                        </div>\n                        <div className=\"row payment\">\n                            <div className=\"col-7 col-xxl-7\">\n                                <h4 className=\"text-style-2\">Tax</h4>\n                            </div>\n                            <div className=\"col\">\n                                <h4 className=\"text-style-3 text-end\">$0</h4>\n                            </div>\n                        </div>\n                        <hr />\n                        <div className=\"row payment\">\n                            <div className=\"col-7 col-xxl-7\">\n                                <h4 className=\"text-style-1\">Total</h4>\n                            </div>\n                            <div className=\"col\">\n                                <h4 className=\"text-style-1 text-end\">${this.props.total}</h4>\n                            </div>\n                        </div>\n                        <br />\n                        <div className=\"row container\">\n                            <button\n                                className=\"btn custom-btn-fill\"\n                                onClick={() => this.handleOrder()}\n                                type=\"button\"\n                            >\n                                Place Order\n                            </button>\n                        </div>\n                    </div>\n                </aside>\n            </>\n        );\n    }\n}\n\nconst mapStateToProps = store => {\n    return {\n        user: store.userState.user,\n        restaurant: store.restaurantState.restaurant,\n        defaultUserId: store.restaurantState.defaultUserId,\n        order: store.orderState.order,\n        total: store.orderState.total,\n        count: store.orderState.count,\n    }\n}\n\nexport default connect(mapStateToProps)(Checkout);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}