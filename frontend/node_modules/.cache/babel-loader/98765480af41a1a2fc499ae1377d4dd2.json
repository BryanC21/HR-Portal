{"ast":null,"code":"var _jsxFileName = \"/Users/bryancaldera/CS MS/CMPE272_Group_Project/cmpe272_final_project/frontend/src/components/nav/nav_user.js\";\nimport React, { Component } from \"react\";\nimport { Nav, NavDropdown } from 'react-bootstrap';\nimport SSO from '../sso/sso';\nimport { connect } from 'react-redux';\nimport store from \"../../store\";\nimport { setUser } from \"../../actions/userActions\";\nimport { isEmpty } from \"../utils\";\nimport { createUrl } from \"../utils\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass NavUser extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      modalShow: false\n    };\n    this.setModalShow = this.setModalShow.bind(this);\n  }\n\n  setModalShow(show) {\n    this.setState({\n      modalShow: show\n    });\n  }\n\n  handleLogout() {\n    sessionStorage.setItem(\"token\", \"\");\n    store.dispatch(setUser({}));\n  }\n\n  render() {\n    const user = this.props.user;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: user == null || isEmpty(user) ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(SSO, {\n          show: this.state.modalShow,\n          onHide: () => this.setState({\n            modalShow: false\n          }),\n          setModalShow: this.setModalShow\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(Nav.Link, {\n          className: \"text-danger\",\n          onClick: () => this.setModalShow(true),\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(NavDropdown, {\n        title: user.firstName,\n        id: \"basic-nav-dropdown\",\n        children: [this.props.orders ? /*#__PURE__*/_jsxDEV(NavDropdown.Item, {\n          href: createUrl(\"/restaurant/user_order\"),\n          children: \"Your Order\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 33\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), /*#__PURE__*/_jsxDEV(NavDropdown.Divider, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(NavDropdown.Item, {\n          href: \"#\",\n          onClick: () => this.handleLogout(),\n          children: \"Log Out\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 25\n      }, this)\n    }, void 0, false);\n  }\n\n}\n\nconst mapStateToProps = store => {\n  return {\n    user: store.userState.user\n  };\n};\n\nexport default connect(mapStateToProps)(NavUser);","map":{"version":3,"names":["React","Component","Nav","NavDropdown","SSO","connect","store","setUser","isEmpty","createUrl","NavUser","constructor","props","state","modalShow","setModalShow","bind","show","setState","handleLogout","sessionStorage","setItem","dispatch","render","user","firstName","orders","mapStateToProps","userState"],"sources":["/Users/bryancaldera/CS MS/CMPE272_Group_Project/cmpe272_final_project/frontend/src/components/nav/nav_user.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { Nav, NavDropdown } from 'react-bootstrap';\nimport SSO from '../sso/sso';\nimport { connect } from 'react-redux';\nimport store from \"../../store\";\nimport { setUser } from \"../../actions/userActions\";\nimport { isEmpty } from \"../utils\";\nimport { createUrl } from \"../utils\";\n\nclass NavUser extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            modalShow: false,\n        };\n        this.setModalShow = this.setModalShow.bind(this);\n    }\n\n    setModalShow(show) {\n        this.setState({ modalShow: show });\n    }\n\n    handleLogout() {\n        sessionStorage.setItem(\"token\", \"\");\n        store.dispatch(setUser({}));\n    }\n\n    render() {\n        const user = this.props.user;\n        return (\n            <>\n\n                {\n                    user == null || isEmpty(user) ?\n                        <>\n                            <SSO\n                                show={this.state.modalShow}\n                                onHide={() => this.setState({ modalShow: false })}\n                                setModalShow={this.setModalShow}\n                            />\n                            <Nav.Link className='text-danger' onClick={() => this.setModalShow(true)}>Login</Nav.Link>\n                        </>\n                        :\n                        <NavDropdown title={user.firstName} id=\"basic-nav-dropdown\">\n                            {/*<NavDropdown.Item href=\"/profile\">Profile</NavDropdown.Item>*/}\n                            {this.props.orders\n                                ?\n                                <NavDropdown.Item href={createUrl(\"/restaurant/user_order\")}>Your Order</NavDropdown.Item>\n                                :\n                                <></>\n                            }\n                            <NavDropdown.Divider />\n                            <NavDropdown.Item href=\"#\" onClick={() => this.handleLogout()}>Log Out</NavDropdown.Item>\n                        </NavDropdown>\n                }\n            </>\n        );\n    }\n}\n\nconst mapStateToProps = store => {\n    return {\n        user: store.userState.user,\n    }\n}\n\nexport default connect(mapStateToProps)(NavUser);\n\n\n"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,GAAT,EAAcC,WAAd,QAAiC,iBAAjC;AACA,OAAOC,GAAP,MAAgB,YAAhB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,SAASC,OAAT,QAAwB,2BAAxB;AACA,SAASC,OAAT,QAAwB,UAAxB;AACA,SAASC,SAAT,QAA0B,UAA1B;;;;AAEA,MAAMC,OAAN,SAAsBT,SAAtB,CAAgC;EAC5BU,WAAW,CAACC,KAAD,EAAQ;IACf,MAAMA,KAAN;IACA,KAAKC,KAAL,GAAa;MACTC,SAAS,EAAE;IADF,CAAb;IAGA,KAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;EACH;;EAEDD,YAAY,CAACE,IAAD,EAAO;IACf,KAAKC,QAAL,CAAc;MAAEJ,SAAS,EAAEG;IAAb,CAAd;EACH;;EAEDE,YAAY,GAAG;IACXC,cAAc,CAACC,OAAf,CAAuB,OAAvB,EAAgC,EAAhC;IACAf,KAAK,CAACgB,QAAN,CAAef,OAAO,CAAC,EAAD,CAAtB;EACH;;EAEDgB,MAAM,GAAG;IACL,MAAMC,IAAI,GAAG,KAAKZ,KAAL,CAAWY,IAAxB;IACA,oBACI;MAAA,UAGQA,IAAI,IAAI,IAAR,IAAgBhB,OAAO,CAACgB,IAAD,CAAvB,gBACI;QAAA,wBACI,QAAC,GAAD;UACI,IAAI,EAAE,KAAKX,KAAL,CAAWC,SADrB;UAEI,MAAM,EAAE,MAAM,KAAKI,QAAL,CAAc;YAAEJ,SAAS,EAAE;UAAb,CAAd,CAFlB;UAGI,YAAY,EAAE,KAAKC;QAHvB;UAAA;UAAA;UAAA;QAAA,QADJ,eAMI,QAAC,GAAD,CAAK,IAAL;UAAU,SAAS,EAAC,aAApB;UAAkC,OAAO,EAAE,MAAM,KAAKA,YAAL,CAAkB,IAAlB,CAAjD;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QANJ;MAAA,gBADJ,gBAUI,QAAC,WAAD;QAAa,KAAK,EAAES,IAAI,CAACC,SAAzB;QAAoC,EAAE,EAAC,oBAAvC;QAAA,WAEK,KAAKb,KAAL,CAAWc,MAAX,gBAEG,QAAC,WAAD,CAAa,IAAb;UAAkB,IAAI,EAAEjB,SAAS,CAAC,wBAAD,CAAjC;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAFH,gBAIG,qCANR,eAQI,QAAC,WAAD,CAAa,OAAb;UAAA;UAAA;UAAA;QAAA,QARJ,eASI,QAAC,WAAD,CAAa,IAAb;UAAkB,IAAI,EAAC,GAAvB;UAA2B,OAAO,EAAE,MAAM,KAAKU,YAAL,EAA1C;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QATJ;MAAA;QAAA;QAAA;QAAA;MAAA;IAbZ,iBADJ;EA4BH;;AAhD2B;;AAmDhC,MAAMQ,eAAe,GAAGrB,KAAK,IAAI;EAC7B,OAAO;IACHkB,IAAI,EAAElB,KAAK,CAACsB,SAAN,CAAgBJ;EADnB,CAAP;AAGH,CAJD;;AAMA,eAAenB,OAAO,CAACsB,eAAD,CAAP,CAAyBjB,OAAzB,CAAf"},"metadata":{},"sourceType":"module"}