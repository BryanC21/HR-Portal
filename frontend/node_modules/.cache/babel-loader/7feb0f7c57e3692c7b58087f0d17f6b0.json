{"ast":null,"code":"var _jsxFileName = \"/Users/bryancaldera/CS MS/CMPE272_Group_Project/cmpe272_final_project/frontend/src/components/admin/departments.js\";\nimport React, { Fragment } from \"react\";\nimport { Button, Form, Card, Row, Col, Container } from \"react-bootstrap\";\nimport Item from \"../admin_menu/item\";\nimport { PlusCircle, XCircle } from 'react-bootstrap-icons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Departments extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      departments: []\n    };\n  }\n\n  componentDidMount() {\n    this.getData();\n  }\n\n  getData() {\n    var api = process.env.REACT_APP_API || \"http://192.168.56.1:5002\";\n    fetch(api + \"/api/user/getDepartments\").then(response => response.json()).then(data2 => {\n      console.log(data2);\n\n      if (data2.status === \"success\") {\n        fetch(api + \"/api/user/getTitles\").then(response => response.json()).then(data3 => {\n          if (data3.status === \"success\") {\n            this.setState({\n              departments: data2.results,\n              titles: data3.results\n            });\n          } else {\n            alert(data3.message);\n          }\n        });\n      } else {\n        alert(data2.message);\n      }\n    });\n  }\n\n  handleAddFields() {\n    var api = process.env.REACT_APP_API || \"http://192.168.56.1:5002\";\n    var api_name = \"/api/admin/getEmployeesCurrentSorted?\";\n    fetch(api + api_name + new URLSearchParams({\n      name: this.state.name,\n      title: this.state.title,\n      dept_name: this.state.dept_name,\n      title: this.state.title,\n      col: this.state.col,\n      order: this.state.order,\n      count: count,\n      offset: (page - 1) * count,\n      current: current\n    })).then(response => response.json()).then(data => {\n      if (data.status === \"success\") {\n        const values = [...this.state.departments];\n        values.push({\n          dept_name: \"Default Name\"\n        });\n        this.setState({\n          departments: values\n        });\n      } else {\n        alert(data.message);\n      }\n    });\n  }\n\n  handleRemoveFields(index) {\n    const values = [...this.state.departments];\n    values.splice(index, 1);\n    this.setState({\n      departments: values\n    });\n  }\n\n  handleInputChange(index, value) {\n    const values = [...this.state.departments];\n    values[index].name = value;\n    this.setState({\n      departments: values\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        className: \"mb-2\",\n        children: this.state.departments && this.state.departments.length ? this.state.departments.map((item, index) => /*#__PURE__*/_jsxDEV(Fragment, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            xs: \"12\",\n            lg: \"3\",\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              className: \"mb-2 p-3 items-body\",\n              children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                children: this.state.departments.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(Col, {\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    htmlFor: \"option\",\n                    children: [\"Department \", index + 1, \" \", /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: \"#\",\n                      children: /*#__PURE__*/_jsxDEV(XCircle, {\n                        color: \"red\",\n                        size: \"20\",\n                        onClick: () => this.handleRemoveFields(index)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 88,\n                        columnNumber: 84\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 88,\n                      columnNumber: 72\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 87,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    type: \"text\",\n                    id: item.dept_no,\n                    value: item.dept_name,\n                    onChange: e => this.handleInputChange(index, e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 90,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 29\n          }, this)\n        }, `${item}~${index}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 25\n        }, this)) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        className: \"mb-2\",\n        onClick: () => this.handleAddFields(),\n        children: \"Add Category\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 121\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        onClick: () => this.handleAddFields(),\n        children: \"Save Changes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default Departments;","map":{"version":3,"names":["React","Fragment","Button","Form","Card","Row","Col","Container","Item","PlusCircle","XCircle","Departments","Component","constructor","props","state","departments","componentDidMount","getData","api","process","env","REACT_APP_API","fetch","then","response","json","data2","console","log","status","data3","setState","results","titles","alert","message","handleAddFields","api_name","URLSearchParams","name","title","dept_name","col","order","count","offset","page","current","data","values","push","handleRemoveFields","index","splice","handleInputChange","value","render","length","map","item","dept_no","e","target"],"sources":["/Users/bryancaldera/CS MS/CMPE272_Group_Project/cmpe272_final_project/frontend/src/components/admin/departments.js"],"sourcesContent":["import React, { Fragment } from \"react\";\nimport { Button, Form, Card, Row, Col, Container } from \"react-bootstrap\";\nimport Item from \"../admin_menu/item\"\nimport { PlusCircle, XCircle } from 'react-bootstrap-icons';\n\nclass Departments extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = { departments: [] };\n    }\n\n    componentDidMount() {\n        this.getData();\n    }\n\n    getData() {\n        var api = process.env.REACT_APP_API || \"http://192.168.56.1:5002\";\n        fetch(api + \"/api/user/getDepartments\")\n            .then((response) => response.json())\n            .then(data2 => {\n                console.log(data2);\n                if (data2.status === \"success\") {\n                    fetch(api + \"/api/user/getTitles\")\n                        .then((response) => response.json())\n                        .then(data3 => {\n                            if (data3.status === \"success\") {\n                                this.setState({ departments: data2.results, titles: data3.results });\n                            } else {\n                                alert(data3.message);\n                            }\n                        });\n                } else {\n                    alert(data2.message);\n                }\n            });\n    }\n\n    handleAddFields() {\n        var api = process.env.REACT_APP_API || \"http://192.168.56.1:5002\";\n        var api_name = \"/api/admin/getEmployeesCurrentSorted?\";\n        fetch(api + api_name + new URLSearchParams({\n            name: this.state.name,\n            title: this.state.title,\n            dept_name: this.state.dept_name,\n            title: this.state.title,\n            col: this.state.col,\n            order: this.state.order,\n            count: count,\n            offset: (page - 1) * count,\n            current: current,\n        }))\n            .then((response) => response.json())\n            .then((data) => {\n                if (data.status === \"success\") {\n                    const values = [...this.state.departments];\n                    values.push({ dept_name: \"Default Name\" });\n                    this.setState({ departments: values });\n                } else {\n                    alert(data.message);\n                }\n            });\n    };\n\n    handleRemoveFields(index) {\n        const values = [...this.state.departments];\n        values.splice(index, 1);\n        this.setState({ departments: values });\n    };\n\n    handleInputChange(index, value) {\n        const values = [...this.state.departments];\n        values[index].name = value;\n        this.setState({ departments: values })\n    };\n\n    render() {\n        return (\n            <>\n                <Row className=\"mb-2\">\n                    {this.state.departments && this.state.departments.length ? this.state.departments.map((item, index) => (\n                        <Fragment key={`${item}~${index}`}>\n                            <Col xs=\"12\" lg=\"3\">\n                                <Card className=\"mb-2 p-3 items-body\">\n                                    <Card.Title>{this.state.departments.name}</Card.Title>\n                                    <div>\n                                        <Col>\n                                            <Form.Label htmlFor=\"option\">\n                                                Department {index + 1} <a href=\"#\"><XCircle color=\"red\" size=\"20\" onClick={() => this.handleRemoveFields(index)} /></a>\n                                            </Form.Label>\n                                            <Form.Control\n                                                type=\"text\"\n                                                id={item.dept_no}\n                                                value={item.dept_name}\n                                                onChange={e => this.handleInputChange(index, e.target.value)}\n                                            />\n                                        </Col>\n                                    </div>\n                                </Card>\n                            </Col>\n                        </Fragment>\n                    ))\n                        : <></>\n                    }\n                </Row>\n                <Button variant=\"primary\" className=\"mb-2\" onClick={() => this.handleAddFields()} >Add Category</Button><br />\n                <Button variant=\"primary\" onClick={() => this.handleAddFields()} >Save Changes</Button>\n            </>\n        )\n    }\n}\n\nexport default Departments;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}