{"ast":null,"code":"var _jsxFileName = \"/Users/bryancaldera/CS MS/CMPE272_Group_Project/cmpe272_final_project/frontend/src/components/nav/nav_user.js\";\nimport React, { Component } from \"react\";\nimport { NavDropdown } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport store from \"../../store\";\nimport { setUser } from \"../../actions/userActions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass NavUser extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      modalShow: false\n    };\n    this.setModalShow = this.setModalShow.bind(this);\n  }\n\n  setModalShow(show) {\n    this.setState({\n      modalShow: show\n    });\n  }\n\n  async handleLogout() {\n    var api = \"http://localhost:5002\";\n    const response = await fetch(api + '/logout', {\n      credentials: 'include'\n    });\n\n    if (response.status === 200) {\n      await store.dispatch(setUser({}));\n      window.location.replace(\"https://trial-1322739.okta.com/login/signout\");\n    } else {\n      alert(response.statusText);\n    }\n  }\n\n  render() {\n    const user = this.props.user;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(NavDropdown, {\n        title: \"Admin\",\n        id: \"basic-nav-dropdown\",\n        children: /*#__PURE__*/_jsxDEV(NavDropdown.Item, {\n          href: \"#\",\n          onClick: () => this.handleLogout(),\n          children: \"Log Out\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }, this)\n    }, void 0, false);\n  }\n\n}\n\nconst mapStateToProps = store => {\n  return {\n    user: store.userState.user\n  };\n};\n\nexport default connect(mapStateToProps)(NavUser);","map":{"version":3,"names":["React","Component","NavDropdown","connect","store","setUser","NavUser","constructor","props","state","modalShow","setModalShow","bind","show","setState","handleLogout","api","response","fetch","credentials","status","dispatch","window","location","replace","alert","statusText","render","user","mapStateToProps","userState"],"sources":["/Users/bryancaldera/CS MS/CMPE272_Group_Project/cmpe272_final_project/frontend/src/components/nav/nav_user.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { NavDropdown } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport store from \"../../store\";\nimport { setUser } from \"../../actions/userActions\";\n\nclass NavUser extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            modalShow: false,\n        };\n        this.setModalShow = this.setModalShow.bind(this);\n    }\n\n    setModalShow(show) {\n        this.setState({ modalShow: show });\n    }\n\n    async handleLogout() {\n        var api = \"http://localhost:5002\";\n        const response = await fetch(api + '/logout', { credentials: 'include' })\n        if (response.status === 200) {\n            await store.dispatch(setUser({}));\n            window.location.replace(\"https://trial-1322739.okta.com/login/signout\");\n        } else {\n            alert(response.statusText);\n        }\n    }\n\n    render() {\n        const user = this.props.user;\n        return (\n            <>\n                <NavDropdown title=\"Admin\" id=\"basic-nav-dropdown\">\n                    <NavDropdown.Item href=\"#\" onClick={() => this.handleLogout()}>Log Out</NavDropdown.Item>\n                </NavDropdown>\n            </>\n        );\n    }\n}\n\nconst mapStateToProps = store => {\n    return {\n        user: store.userState.user,\n    }\n}\n\nexport default connect(mapStateToProps)(NavUser);\n\n\n"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,WAAT,QAA4B,iBAA5B;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,SAASC,OAAT,QAAwB,2BAAxB;;;;AAEA,MAAMC,OAAN,SAAsBL,SAAtB,CAAgC;EAC5BM,WAAW,CAACC,KAAD,EAAQ;IACf,MAAMA,KAAN;IACA,KAAKC,KAAL,GAAa;MACTC,SAAS,EAAE;IADF,CAAb;IAGA,KAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;EACH;;EAEDD,YAAY,CAACE,IAAD,EAAO;IACf,KAAKC,QAAL,CAAc;MAAEJ,SAAS,EAAEG;IAAb,CAAd;EACH;;EAEiB,MAAZE,YAAY,GAAG;IACjB,IAAIC,GAAG,GAAG,uBAAV;IACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACF,GAAG,GAAG,SAAP,EAAkB;MAAEG,WAAW,EAAE;IAAf,CAAlB,CAA5B;;IACA,IAAIF,QAAQ,CAACG,MAAT,KAAoB,GAAxB,EAA6B;MACzB,MAAMhB,KAAK,CAACiB,QAAN,CAAehB,OAAO,CAAC,EAAD,CAAtB,CAAN;MACAiB,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,8CAAxB;IACH,CAHD,MAGO;MACHC,KAAK,CAACR,QAAQ,CAACS,UAAV,CAAL;IACH;EACJ;;EAEDC,MAAM,GAAG;IACL,MAAMC,IAAI,GAAG,KAAKpB,KAAL,CAAWoB,IAAxB;IACA,oBACI;MAAA,uBACI,QAAC,WAAD;QAAa,KAAK,EAAC,OAAnB;QAA2B,EAAE,EAAC,oBAA9B;QAAA,uBACI,QAAC,WAAD,CAAa,IAAb;UAAkB,IAAI,EAAC,GAAvB;UAA2B,OAAO,EAAE,MAAM,KAAKb,YAAL,EAA1C;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MADJ;QAAA;QAAA;QAAA;MAAA;IADJ,iBADJ;EAOH;;AAjC2B;;AAoChC,MAAMc,eAAe,GAAGzB,KAAK,IAAI;EAC7B,OAAO;IACHwB,IAAI,EAAExB,KAAK,CAAC0B,SAAN,CAAgBF;EADnB,CAAP;AAGH,CAJD;;AAMA,eAAezB,OAAO,CAAC0B,eAAD,CAAP,CAAyBvB,OAAzB,CAAf"},"metadata":{},"sourceType":"module"}